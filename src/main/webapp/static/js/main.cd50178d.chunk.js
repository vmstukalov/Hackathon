(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(39)},28:function(e,t,a){},29:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(20),r=a.n(c),s=(a(28),a(11)),i=a(10),u=a(3),o=a(4),m=a(6),h=a(5),p=a(7),d=(a(29),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).handleOptionChange=function(e){a.setState({selectedOption:e.target.value})},a.state={selectedOption:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"WhoAmI"},l.a.createElement("header",{className:"App-header"},l.a.createElement("div",{className:"first-step"},l.a.createElement("label",null,l.a.createElement("input",{type:"radio",name:"react-tips",value:"learner",checked:"learner"===this.state.selectedOption,onChange:this.handleOptionChange,className:"form-check-input"}),"\u0425\u043e\u0447\u0443 \u043d\u0430\u0443\u0447\u0438\u0442\u044c\u0441\u044f"),l.a.createElement("label",null,l.a.createElement("input",{type:"radio",name:"react-tips",value:"teacher",checked:"teacher"===this.state.selectedOption,onChange:this.handleOptionChange,className:"form-check-input"}),"\u0425\u043e\u0447\u0443 \u043d\u0430\u0443\u0447\u0438\u0442\u044c")),l.a.createElement("div",{className:"second-step"},this.state.selectedOption?l.a.createElement("div",{className:"second-step-block"},l.a.createElement("p",null,"\u042f"),"learner"===this.state.selectedOption?l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(s.b,{to:"/pupil"},"\u0428\u043a\u043e\u043b\u044c\u043d\u0438\u043a")),l.a.createElement("li",null,l.a.createElement("span",null,"\u0421\u0442\u0443\u0434\u0435\u043d\u0442")),l.a.createElement("li",null,l.a.createElement("span",null,"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442"))):"teacher"===this.state.selectedOption?l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("span",null,"\u0420\u0435\u043f\u0435\u0442\u0438\u0442\u043e\u0440")),l.a.createElement("li",null,l.a.createElement("span",null,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0442\u043e\u0440 \u043a\u0443\u0440\u0441\u043e\u0432")),l.a.createElement("li",null,l.a.createElement("span",null,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0442\u043e\u0440 \u0441\u0442\u0430\u0436\u0438\u0440\u043e\u0432\u043e\u043a")),l.a.createElement("li",null,l.a.createElement("span",null,"\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442, \u043a\u043e\u0443\u0447")),l.a.createElement("li",null,l.a.createElement("span",null,"\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044c \u0412\u0423\u0417\u0430, \u0442\u0435\u0445\u043d\u0438\u043a\u0443\u043c\u0430, \u043a\u043e\u043b\u043b\u0435\u0434\u0436\u0430")),l.a.createElement("li",null,l.a.createElement("span",null,"\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0442\u043e\u0440 \u043a\u0440\u0443\u0436\u043a\u0430, \u0441\u0435\u043a\u0446\u0438\u0438")),l.a.createElement("li",null,l.a.createElement("span",null,"\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044c \u0448\u043a\u043e\u043b\u044b"))):null):null)))}}]),t}(n.Component)),E=(a(34),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).checkInterest=function(e){var t=a.state.selectedOptions.slice(0),n=Number(e.target.value);e.target.checked?t.includes(n)||t.push(n):t.includes(n)&&t.splice(t.indexOf(n),1),a.setState(Object.assign({},a.state,{selectedOptions:t})),a.props.onChange&&a.props.onChange(t)},a.state={selectedOptions:[],interests:[],loading:!0},fetch("http://amp-provider.ru/interest/all").then(function(e){return e.json()}).then(function(e){return a.setState(Object.assign({},a.state,{interests:e,loading:!1}))}),a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"Interests"},this.state.loading?l.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):l.a.createElement("h3",null,"\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u044b"),this.state.interests.length>0?l.a.createElement("ul",null,this.state.interests.map(function(t){return l.a.createElement("li",{key:t.id},l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:"react-tips",value:t.id,checked:e.state.selectedOptions.includes(t.id),onChange:e.checkInterest,className:"form-check-input"}),l.a.createElement("img",{src:"/images/interests/".concat(t.id,".png"),alt:t.value}),l.a.createElement("span",null,t.value)))})):null)}}]),t}(n.Component)),f=(a(35),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"Way"},this.props.way?this.props.way.tracks.map(function(e){return l.a.createElement("div",{key:e.id},l.a.createElement(s.b,{className:"App-link",to:"/track/".concat(e.id)},e.name),l.a.createElement("span",null," (\u0431\u043e\u043b\u0435\u0435 ",e.size||Math.ceil(100*Math.random())," \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0443\u0441\u043b\u0443\u0433)"))}):null)}}]),t}(n.Component)),O=(a(36),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).checkWay=function(e){var t=a.props.list.filter(function(t){return t.id===Number(e.target.value)})[0];a.setState(Object.assign({},a.state,{selectedWay:t})),a.props.onChange&&a.props.onChange(t)},a.state={selectedWay:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"Ways"},l.a.createElement("input",{type:"search",placeholder:"\u042f \u0445\u043e\u0447\u0443 \u0441\u0442\u0430\u0442\u044c..."}),this.props.list.map(function(t){return l.a.createElement("div",{key:t.id},l.a.createElement("label",{className:1===t.id?null:"locked"},l.a.createElement("input",{type:"radio",value:t.id,checked:e.state.selectedWay===t,onChange:e.checkWay}),t.name),l.a.createElement(f,{way:e.state.selectedWay===t?t:null}))}))}}]),t}(n.Component)),b=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={ways:[],selectedWay:null},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"handleInterestsChange",value:function(e){var t=this,a=function(t){return(t.interests||[]).filter(function(t){return-1!==e.indexOf(t.id)}).length};e.length>0?fetch("http://amp-provider.ru/way/byInterests?interests=".concat(encodeURIComponent(JSON.stringify(e)))).then(function(e){return e.json()}).then(function(e){return t.setState(Object.assign({},t.state,{ways:e.sort(function(e,t){var n=a(e),l=a(t);return n>l?-1:n<l?1:0}),selectedWay:t.state.selectedWay&&e.map(function(e){return e.id}).includes(t.state.selectedWay.id)?t.state.selectedWay:null}))}):this.setState(Object.assign({},this.state,{ways:[],selectedWay:null}))}},{key:"handleWayChange",value:function(e){this.setState(Object.assign({},this.state,{selectedWay:e}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"Pupil"},l.a.createElement("header",{className:"App-header"},l.a.createElement(E,{onChange:this.handleInterestsChange.bind(this)}),l.a.createElement(O,{list:this.state.ways,onChange:this.handleWayChange.bind(this)})))}}]),t}(n.Component),v=(a(37),function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"FakeTrack"},l.a.createElement("header",{className:"App-header"}))}}]),t}(n.Component));a(38);var g=function(){return l.a.createElement("div",null,l.a.createElement(s.a,null,l.a.createElement(s.b,{id:"logo",to:"/"},l.a.createElement("img",{src:"/images/logo.png",alt:"Logo"})),l.a.createElement(i.a,{path:"/",exact:!0,component:d}),l.a.createElement(i.a,{path:"/pupil/",component:b}),l.a.createElement(i.a,{path:"/track/:id",component:v})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
